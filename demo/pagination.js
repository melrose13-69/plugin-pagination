class Helpers{static mathRoundUp(t){return Math.round(t)<t?Math.round(t+.49):Math.round(t)}}export class Pagination extends Helpers{constructor(t,s={}){super(),this.parent=t,this.settings={activeColor:"red",activeClass:"selected-page",pagesShow:5,elements:null,pageSize:null,pageHandle:this.changePage,...s,classes:{mainParent:"pagination-plugin",centerParent:"pagination-plugin__wrapper",page:"pagination-plugin__wrapper-btn",selectedSiblings:"selected-siblings-pages",lastPage:"pagination-lastPage",firstPage:"pagination-firstPage",...s.classes}},this.init()}_createOptions(t={}){this.settings={...this.settings,...t,classes:{...this.classes,...t.classes}},this.elements=+this.settings.elements,this.pageSize=+this.settings.pageSize,this.pageHandle=this.settings.pageHandle,this.activeColor=this.settings.activeColor,this.activeClass=this.settings.activeClass,this.cl=this.settings.classes,this.pagesShow=+this.settings.pagesShow%2==0?+this.settings.pagesShow+1:+this.settings.pagesShow,this.siblingsPagesCounter=Math.floor(this.pagesShow/2),this.lastStartBtn=2!==this.siblingsPagesCounter?Math.floor(this.siblingsPagesCounter/2):0}_getPages(){return Helpers.mathRoundUp(this.elements/this.pageSize)}_renderPagination(t=1){t=+t;const s=this._errorCheck();if(!1===s)return;if(!0!==s)throw s;this.parent.innerHTML="",this.parent.classList.add(this.cl.mainParent);const e=document.createElement("ul");e.classList.add(this.cl.centerParent),this.parent.append(e);const i=(s=1)=>{const a=document.createElement("li"),n=this._getPages(),r=1===s,h=s===n;let l=!1;a.classList.add(this.cl.page),a.innerText=s.toString(),a.setAttribute("data-page",s.toString()),a.addEventListener("click",(t=>{this.pageHandle(s,t,a)}),{once:!0}),r&&((t<this.pagesShow-this.lastStartBtn||n<=this.pagesShow+2)&&a.classList.add(this.cl.selectedSiblings),a.classList.add(this.cl.firstPage),this.parent.prepend(a)),h&&((t>n-this.siblingsPagesCounter-2||n<=this.pagesShow+2)&&a.classList.add(this.cl.selectedSiblings),a.classList.add(this.cl.lastPage),this.parent.append(a)),r||h||(t<this.pagesShow-this.lastStartBtn?s<=this.pagesShow+1&&(l=!0):t>=n-this.siblingsPagesCounter?s>=n-this.pagesShow&&(l=!0):(s<=t&&t-s<=this.siblingsPagesCounter&&(l=!0),s>=t&&t-s>=-this.siblingsPagesCounter&&(l=!0))),l&&e.appendChild(a),s===t&&(a.classList.add(this.activeClass),a.style.color=this.activeColor),s!==n&&i(s+1)};return i}destroy(){this.parent.innerHTML="",this.parent.removeAttribute("class")}init(){this._createOptions(),this._renderPagination()()}_errorCheck(){return this.parent&&this.parent.nodeType&&1===this.parent.nodeType?this.pageSize?this.elements||0===this.elements?0!==this.elements||(this.destroy(),!1):new Error("elements is required"):new Error("pageSize is required"):new Error(`${this.parent} is not Node Element`)}changePage(t){t=void 0===t?1:t,this._renderPagination(t)()}rebuild(t){this._createOptions(t),this._renderPagination()()}}